<div class="container">
  <h5 class="text-center">Review your tasks before starting a new day</h5>

  <%= simple_form_for :reset, url: reset_path, method: :post do |f| %>
    <div class="list-container" data-controller="postpone-task">

      <%#= hidden_field_tag 'mark_as_done_task_ids[]' %>

      <% @tasks.today.each do |task| %>
        <div class="task-box task-list d-flex justify-content-between">
          <%= check_box_tag 'mark_as_done_task_ids[]', task.id, task.mark_as_done, id: "mark_as_done_task_ids_#{task.id}", 'data-postpone-task-target': 'markAsDoneBtn' %>
          <%= label_tag "mark_as_done_task_ids_#{task.id}", task.name %>

          <i class="fas fa-calendar" data-action="click->postpone-task#postpone" data-postpone-task-target="postponeBtn">
            <%= check_box_tag 'postpone_task_ids[]', task.id, @postponed, id: "postpone_task_ids_#{task.id}", 'data-postpone-task-target': 'postponeBtn', class: "postpone-checkbox" %>
            <%#= label_tag "postpone_task_ids_#{task.id}", task.name %>
          </i>
        </div>
      <% end %>
    </div>
    <%= link_to "Cancel", tasks_path, class: "btn-ghost" %>
    <%= f.submit "Next Day", class: "add-button next-day", 'data-postpone-task-target': 'submitBtn', 'data-action': 'click->postpone-task#submit' %>
  <% end %>
</div>
